<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Web Service Call Step</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="ch05.html" title="Chapter&nbsp;5.&nbsp;Process Elements Reference"><link rel="prev" href="ch05s17.html" title="DB Step"><link rel="next" href="ch05s19.html" title="E-Mail Step"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Web Service Call Step </th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch05s17.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;5.&nbsp;Process Elements Reference</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch05s19.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.processmodels.elements.webservice"></a>Web Service Call Step </h2></div></div></div>
	
	<p>
                <span class="inlinemediaobject"><img src="images/ProcessElements/webservice.png"></span> The <span class="emphasis"><em>Web Service Call Step</em></span> element is located in the
			<span class="emphasis"><em>Activity</em></span> drawer of the process editor palette.</p>
	<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
		<p>This element is only available when editing business processes</p>
	</div>
	<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.processmodels.elements.webservice.element"></a>Element Details</h3></div></div></div>
		
		<p>Using the Web Service Call step you can invoke Web Services. Within the element you
			first have to select a <a class="link" href="ch13.html" title="Chapter&nbsp;13.&nbsp;Web Service Configuration">Web Service configuration</a>
			(predefined in Web service configuration editor). According to the selected
			configuration you then may select the port type and the Web Service operation you want
			to invoke. Necessary arguments must be specified for the chosen Web Service operation.
			You might want to map return values to process data (see Output tab), and you can even
			use own IvyScript code as well (see Code tab).</p>
	</div>
	<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.processmodels.elements.webservice.inscription"></a>Inscription</h3></div></div></div>
		
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N244C6"></a>Name Tab</h4></div></div></div>
			
			<p>This tab is included in the mask of all process elements and contains the name and
				a description of the element. See <a class="link" href="ch05.html#ivy.processmodels.elements.tabs.name" title="Name Tab">Name Tab</a> for a more
				detailed description.</p>
			<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
		</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N244DC"></a>WS Tab</h4></div></div></div>
	
	<div class="figure"><a name="N244E2"></a><p class="title"><b>Figure&nbsp;5.14.&nbsp;The Web Service tab</b></p><div class="figure-contents">
		
		<div class="mediaobject"><img src="images/ProcessElements/TabWs.png" alt="The Web Service tab"></div>
	</div></div><br class="figure-break">
	<p>The tab WS is included in the mask of Web Service Call Step element. It features the
		following entries:</p>
	<div class="variablelist"><dl class="variablelist"><dt><span class="term">Web Service Configuration</span></dt><dd>
				<p>The selected global Web Service configuration. Web Service configuration of
					required projects can be used by this element too. Authentication information
					defined by such referred Web Service configuration can be overridden.</p>
				<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
					<p>Starting typing the name of the global configuration and the configuration
						selection window will appear. Hitting the <span class="command"><strong>DEL</strong></span> key will
						erase selection.</p>
				</div>
			</dd><dt><span class="term">Web Service Name</span></dt><dd>
				<p>This is an information field. It shows the Web Service name extracted from the
					corresponding <span class="italic">WSDL</span> file of the selected Web
					Service configuration.</p>
				<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
					<p>By clicking on the info icon, a new window appears and shows additional
						information about the generated Web Service classes.</p>
				</div>
			</dd><dt><span class="term">Web Service Description</span></dt><dd>
				<p>This is also an information field. If the WSDL file of a Web Service
					configuration contains a description, then it is extracted at Web Service class
					generation and displayed here.</p>
			</dd><dt><span class="term">Override authentication</span></dt><dd>
				<p>Normally the authentication information from the selected global web service
					configuration is used. If you check "override" then you must specify
					authentication information as well (authentication type, user name, password) </p>
				<p>Following authentication types are available: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
							<p>HTTP Basic: simple HTTP authentication is used</p>
						</li><li class="listitem">
							<p>HTTP Digest: not yet supported</p>
						</li><li class="listitem">
							<p>HTTPS: not yet supported</p>
						</li></ul></div><p>

                                </p>
			</dd><dt><span class="term">User Name</span></dt><dd>
				<p>This option is only available if you selected <span class="command"><strong>Override
					authentication</strong></span>. Name of a user is expected for authentication.</p>
			</dd><dt><span class="term">Password</span></dt><dd>
				<p>This option is only available if you selected <span class="command"><strong>Override
					authentication</strong></span>. Password for the above specified user is expected for
					authentication.</p>
			</dd><dt><span class="term">Web Service Exception Handler</span></dt><dd>
				<p>You may select an <a class="link" href="ch05s04.html" title="Exception Start">Exception step</a> to continue with if an error occurs at run time. If
					no Exception step is defined, then the execution of the process will terminate.
					The combo box lists all defined Exception steps in normal processes of current
					and required projects (Exception steps defined in Rich Dialog logic are not
					listed when you use the Web Service element in a process).</p>
			</dd><dt><span class="term">Timeout in Seconds</span></dt><dd>
				<p>You may define a timeout. When you do it, the Web Service invocation must end
					within a defined time period. If no response returns in time, a timeout
					exception is thrown. </p>
			</dd><dt><span class="term">Timeout Exception Handler</span></dt><dd>
				<p>If a timeout exception occurs, the execution continues at the selected timeout
					Exception step. If no timeout Exception step is defined, the process execution
					throws an error and stops.</p>
			</dd></dl></div>
	<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N245A2"></a>Web Service Config Tab</h4></div></div></div>
	
	<div class="figure"><a name="N245A8"></a><p class="title"><b>Figure&nbsp;5.15.&nbsp;The Web Service Config tab</b></p><div class="figure-contents">
		
		<div class="mediaobject"><img src="images/ProcessElements/TabWsConfig.png" alt="The Web Service Config tab"></div>
	</div></div><br class="figure-break">
	<p>The tab Config is included in the mask of Web Service Call Step process element. It
		features the following entries:</p>
	<div class="variablelist"><dl class="variablelist"><dt><span class="term">Port</span></dt><dd>
				<p>WSDL port type to be used at Web Service invocation. Service port type may
					group operations according to some logical or technical aspects. See further
					details at <a class="link" href="ch13.html" title="Chapter&nbsp;13.&nbsp;Web Service Configuration">Web Service
				configuration</a>.</p>
			</dd><dt><span class="term">Operation</span></dt><dd>
				<p>Select the Web Service operation you want to invoke from server.</p>
			</dd><dt><span class="term">Endpoint</span></dt><dd>
				<p>Setting displayed in this field comes from the selected Web Service
					configuration (default end point)</p>
			</dd><dt><span class="term">Parameter Assignment</span></dt><dd>
				<p>According to the selected Web Service operation a parameter assignment is
					carried out here. Should the selected operation have no input arguments, this
					table will stay empty. As soon as the selected operation needs input arguments
					you should assign parameter values. Otherwise, it is likely that you get some
					errors due to unsatisfied input arguments.</p>
				<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
					<p>If WSDL defines a parameter as a sequence of objects, the respective parameter on the
						generated Java client class will have an array type (on the config tab the
						parameter appears with type <code class="code">Array&lt;?&gt;</code>). IvyScript treats such
						Array types as if they were Lists and allows to add members (e.g.
							<code class="code">wsParamStringArray.add("a string")</code>). In fact, Array type
						manipulations done with a List method (e.g. <code class="code">add()</code>,
							<code class="code">remove()</code>) will have no effect on the original Array
						parameter value.</p>
					<p>Members can be added to an Array parameter when they are previously stored in a temporary
						List. This List can then be assigned to the array parameter.</p>
					<p>Example: Assuming our Web service "FruitOrder" expects a sequence of fruit
						names as strings.</p>
					<p>
                                    <code class="code">List&lt;String&gt; listOfFruits = ["Apple", "Pear", "Strawberry"]; </code>
                                    </p>
					<p>
                                    <code class="code">wsParamStringArray = listOfFruits;</code>
                                    </p>
				</div>
			</dd></dl></div>
	<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N2461F"></a>Test Tab</h4></div></div></div>
	
	<p>
		</p><div class="figure"><a name="N24627"></a><p class="title"><b>Figure&nbsp;5.16.&nbsp;The Web Service Test tab</b></p><div class="figure-contents">
			
			<div class="mediaobject"><img src="images/ProcessElements/TabWsTest.png" alt="The Web Service Test tab"></div>
		</div></div><p><br class="figure-break">
	</p>
	<p>The tab Web Service Test is included in the mask of a Web Service call element. It
		features the following entries:</p>
	<div class="variablelist"><dl class="variablelist"><dt><span class="term">Test call</span></dt><dd>
				<p>You can test a configured Web Service invocation. Clicking <span class="command"><strong>Test
					Call</strong></span> button invokes the web service and displays the response.</p>
				<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
					<p>Since process attributes are not available at this test time, a separate
						window appears (only when the Web Service needs input data) to let you enter
						the parameter values for the test call.</p>
				</div>
			</dd><dt><span class="term">Web Service Call Response</span></dt><dd>
				<p>The response of the Web Service invocation is displayed here. If an exception
					occurs, the error message is displayed.</p>
			</dd></dl></div>
	<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N24668"></a>Data Cache Tab</h4></div></div></div>
			
			<p>On this tab you can configure the settings for data cache access or invalidation.
				See <a class="link" href="ch05.html#ivy.processmodels.elements.tabs.cache" title="Data Cache Tab">Data Cache Tab</a> for
				a more detailed description.</p>
			<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
		</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N2467E"></a>Output Tab</h4></div></div></div>
			
			<p>On this tab you can configure the output of the element (i.e. the data that leaves
				the element). See <a class="link" href="ch05.html#ivy.processmodels.elements.tabs.output" title="Output Tab">Output
				Tab</a> for a more detailed description.</p>
			<div class="mediaobject"><img src="images/ProcessElements/separator.gif"></div>
		</div>
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N24694"></a>Code Tab</h4></div></div></div>
			
			<p>On this tab you can execute any script, e.g. define output data of this element.
				See <a class="link" href="ch05.html#ivy.processmodels.elements.tabs.code" title="Code Tab">Code Tab</a> for a more
				detailed description.</p>
			<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
				<p>The entered code will be executed <span class="emphasis"><em>after</em></span> the execution of
					the <span class="emphasis"><em>output tab</em></span>. This may feel a bit counter-intuitive at
					first, but you should simply consider the code tab an alternative way of
					defining output data. The general recommendation is to use the output table to
					define simple assignments and the code tab if more extensive scripting is needed
					to calculate data.</p>
			</div>
		</div>
	</div>
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch05s17.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="ch05.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch05s19.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">DB Step &nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;E-Mail Step</td></tr></table></div></body></html>