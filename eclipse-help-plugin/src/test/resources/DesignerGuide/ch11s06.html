<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Environments</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="ch11.html" title="Chapter&nbsp;11.&nbsp;Configuration Management"><link rel="prev" href="ch11s05.html" title="Validation Framework"><link rel="next" href="ch11s07.html" title="Global Variables"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Environments</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch11s05.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;11.&nbsp;Configuration Management</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch11s07.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.configuration.environments"></a>Environments</h2></div></div></div>
    
    <p>This section briefly discusses the usage of environments in your projects .Developers
        should have the possibility to configure multiple environments (pointing to an
        infrastructure) and decide at deployment, runtime and/or design time which environment
        should be used for the application. Here are some examples where environments can be used</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
                <p>Companies provide different environments for their software products, like
                    Development, Test and Productive. Each environment has its own infrastructure
                    including databases, web services and other connections used by the project.
                </p>
            </li><li class="listitem">
                <p>Multi Client Capability. When the user logged into the system he can choose
                    the client (German: Mandant) (e.g. Company 1, Company 2, etc.) and works with the data of the
                    selected company. In the background the right databases connections, web
                    services and other services for the selected environment will be used.</p>
            </li></ul></div><p>Actual projects use the CMS functionality to manage global Constants and set
        these constants every time on the server when a new version of the project will be deployed.
        Another solution for this problem is the usage of property files which will be loaded by the
        application. If you use environments, the user only change the environment and all
        configuration settings of the environment will be used (e.g. database, web service, etc.)
        once. The system switch the settings in the background. </p>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.configuration.environments.editor"></a>Editor</h3></div></div></div>
        
        <p>The environment editor is part of the <a class="link" href="ch11.html" title="Chapter&nbsp;11.&nbsp;Configuration Management">Configuration
                Management</a>. The basic handling of the configuration editor will be described
                <a class="link" href="ch11s02.html#ivy.editors.configuration.editorarea" title="Configuration Editor Area">here</a>. By using the add
            configuration function a new environment will be added. The name of the environment is
            the name of the configuration.</p>
        <p>
                    <span class="inlinemediaobject"><img src="images/ConfigurationManagement/configurationEnvironment.png"></span>
                </p>
        <p>
                    <span class="bold"><strong>Description of the environment</strong></span>
                </p>
        <p>Provide a description of the environment. The description can also be used to describe
            some server IPs, specifics of the infrastructure and other interesting stuff.</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            <p>
                        <span class="bold"><strong>Remove Environments </strong></span>If environment configurations
                are removed all environment values for global variables, databases and web services
                will also be removed. If you environments removed from projects included in the
                Library the values will also be removed in your project.</p>
        </div>
        <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
            <p>
                        <span class="bold"><strong>Rename Environments</strong></span> If environment configurations
                are renamed all configurations for global variables, databases and web services will
                NOT be replaced by the new name. This will be supported in a future version.</p>
        </div>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.configuration.environments.settings"></a>Environment settings</h3></div></div></div>
        
        <p>After the environment is created you can now assign environment values for different
            project objects. The environment settings for the project objects are done in their
            associated editors. Environment setting can be done for:</p>
        <p>
            </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
                                <a class="link" href="ch11s07.html" title="Global Variables">Global Variables</a>
                            </span></dt><dd>
                        <p>Assign environment values to global variables</p>
                    </dd><dt><span class="term">
                                <a class="link" href="ch12.html#ivy.editors.database.environment" title="Environments">Databases</a>
                            </span></dt><dd>
                        <p>Add environment connection properties to databases</p>
                    </dd><dt><span class="term">
                                <a class="link" href="ch13.html" title="Chapter&nbsp;13.&nbsp;Web Service Configuration">Web Services</a>

                            </span></dt><dd>
                        <p>Add environment connection properties to web services</p>
                    </dd></dl></div><p>
        </p>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.configuration.environments.preferences"></a>Change environment for Simulation</h3></div></div></div>
        
        <p>It is possible to change the environment for the Simulation by setting the Environment
            in the Preferences. </p>
        <p>
                    <span class="inlinemediaobject"><img src="images/ConfigurationManagement/environmentPreferences.png"></span>
                </p>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.configuration.environments.change"></a>Change environment at runtime</h3></div></div></div>
        
        <p>It is possible to change the environment at runtime on Case, Session and Application
            Level. This is an essential feature in order to fulfill the requirements of an
            multi-client capability application. </p>
        <p>
            </p><div class="informaltable"><table frame="void">
                <col width="18%">
                <col width="82%">
                <thead>
                    <tr>
                        <th>Scope</th>
                        <th>How to set in IvyScript</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Case Scope</td>
                        <td>
                            <code class="code">ivy.case.setActiveEnvironment(String name)</code>
                        </td>
                    </tr>
                    <tr>
                        <td>Session Scope</td>
                        <td>
                            <code class="code">ivy.session.setActiveEnvironment(String name)</code>
                        </td>
                    </tr>
                    <tr>
                        <td>Application Scope</td>
                        <td>
                            <code class="code">ivy.wf.getApplication().setActiveEnvironment(String name)</code>
                        </td>
                    </tr>
                </tbody>
            </table></div><p>
        </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            <p>The <code class="code">setActiveEnvironment(String name)</code> methods throw a runtime exception if no
                environment with the given name exist.</p>
        </div>
        <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3>
            <p>
                        <span class="bold"><strong>How does the system check which environment is
                    active?</strong></span>
            </p>
            <p>The environment determination is a follows: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
                        <p>Environment that is set on the current <span class="bold"><strong>case</strong></span>.</p>
                    </li><li class="listitem">
                        <p>Environment that is set on the current <span class="bold"><strong>session</strong></span>.</p>
                    </li><li class="listitem">
                        <p>Environment that is set on the current <span class="bold"><strong>application</strong></span>.</p>
                    </li><li class="listitem">
                        <p>
                                    <span class="bold"><strong>Default</strong></span> environment</p>
                    </li></ol></div><p>

                    </p>
        </div>
    </div>
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch11s05.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="ch11.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch11s07.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Validation Framework&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;Global Variables</td></tr></table></div></body></html>