<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>HTML Best Practice</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Web Page"><link rel="prev" href="ch10s03.html" title="HTML content in the Web Content Folder"><link rel="next" href="ch11.html" title="Chapter&nbsp;11.&nbsp;Configuration Management"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">HTML Best Practice</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch10s03.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;10.&nbsp;Web Page</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch11.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.html.howto"></a>HTML Best Practice</h2></div></div></div>
        
        <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.html.howto.provideownvalidationscripts"></a>How to provide own HTML Validation Scripts</h3></div></div></div>
            
            <p>Inside the <a class="link" href="ch10s02.html#ivy.html.cms.valueeditors.link.form.formfield.detail" title="Configuring Form Field Details">Form Field Details Editor</a> you may specify client side validation scripts
                to validate user input before submitting a form. If the validation fails (i.e. some
                user input is invalid) then the form will not be submitted.</p>
            <p>Out of the box, Xpert.ivy allows you to select from a number of predefined
                scripts, e.g. <span class="italic">Integer &gt; 0</span> as shown below:</p>
            <div class="mediaobject"><img src="images/HTML/own_validation_script_1.png"></div>
            <p>Testing for <span class="italic">Integer &gt; 0</span> may be fine for some
                cases, but what if you need to test whether an integer value is greater than 10 and
                smaller than 20? In this case you need to provide your own validation script to test
                your specific input requirements.</p>
            <p>HTML validation scripts are written in <span class="italic">JavaScript</span> and are stored in a *.js file.
                The script file contains a header line and a check function. For example:</p>
            <pre class="screen">&lt;!--ivy.input_validate name_de="Ganzzahl: 10 &lt; x &lt; 20" name_en="Integer: 10 &lt; x &lt; 20"--&gt; 
function integerBetween10And20(field,msg,loc) 
{ 
  msg_en=field.name+" must be a Number between 10 and 20";      // default message en
  msg_de=field.name+" muss eine Zahl zwischen 10 und 20 sein";  // default message de  

  if(field.value.length==0 
     || isNaN(new Number(field.value)) 
     || !(field.value &gt; 10 &amp;&amp; field.value &lt; 20)) // check function
  {
    if(msg!=null &amp;&amp; msg.length&gt;0) &nbsp;&nbsp;&nbsp;&nbsp;
      alert(msg); &nbsp;&nbsp;  // alert with custom message, if defined
    else if(loc=="de") &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      alert(msg_de);  // alert with default german message
    else &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      alert(msg_en); &nbsp;// alert with default english message&nbsp;&nbsp;
    return false; &nbsp;&nbsp;
  } &nbsp;&nbsp;
  else 
  {
    return true; 
  }
}            </pre>
            <p>The header of the script file defines the name of the script as it is displayed in
                the validation combo box of the<span class="italic"> Form Field Details
                Editor</span>.</p>
            <p>The JavaScript validation function must always define the same 3 parameters:
                    <code class="code">field</code> is the field that is being validated, <code class="code">msg</code> is the
                custom validation alert message that may optionally be defined when selecting a
                validation script and <code class="code">loc</code> is the language code that will be provided by
                the Xpert.ivy runtime system. </p>
            <p>The above defined checks if the given input field contains a number between 10 and
                20 and if so, <code class="code">true</code> is returned. If the value is not a number or not
                between 0 and 20, then an alert message is shown to the user and <code class="code">false</code>
                will be returned (which will prevent the sending of the form, as long as the field
                value is not correct).</p>
            <p>In order for the script to be able to selected from the Form Field Details Editor,
                it must be located in the <em class="filename">webContent/scripts/validation</em> folder
                of the Xpert.ivy project where it will be used:</p>
            <div class="mediaobject"><img src="images/HTML/own_validation_script_location.png"></div>
            <p>Once you have copied your script to this location, it will become available in the
                validation selection combo box of the <span class="italic">Form Field Detail
                    Editor</span>:</p>
            <div class="mediaobject"><img src="images/HTML/own_validation_script_2.png"></div>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3>
                <p>If you don't like the behavior of any built-in scripts then you may change
                    them as well. Simply edit the associated validation script file. </p>
                <p>You may generally edit the available validation scripts at any time. The
                    changes will become effective immediately on save (unless browsers or other
                    internet entities use a previously cached copy of an old script).</p>
            </div>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
                <p>Please note, that <span class="italic">JavaScript</span> must be
                    enabled in your client's browsers in order for any validation scripts to work!</p>
                <p>Also make sure that the name of your script function and the name of your
                    script file are exactly identical (including capitalization). The script will be
                    referred by name of the file. If it does <span class="italic">not</span>
                    match the actual function name, then the script will not be executed, and
                    validation will not take place without any obvious error.</p>
            </div>
        </div>
    </div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch10s03.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="ch10.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch11.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">HTML content in the Web Content Folder&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;Chapter&nbsp;11.&nbsp;Configuration Management</td></tr></table></div></body></html>