<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;16.&nbsp;Overrides</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="index.html" title="Xpert.ivy 5.1"><link rel="prev" href="ch15s06.html" title="Persistence API"><link rel="next" href="ch16s02.html" title="Overrides Editor"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&nbsp;16.&nbsp;Overrides</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch15s06.html">Prev</a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch16s02.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="ivy.overrides"></a>Chapter&nbsp;16.&nbsp;Overrides</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="ch16.html#ivy.overrides.concept">The Concept of Overrides</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch16.html#ivy.overrides.concept.casescope">Case Scope</a></span></dt><dt><span class="sect2"><a href="ch16.html#ivy.designpatterns.processfacade">Process Facade</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch16s02.html">Overrides Editor</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch16s02.html#ivy.editors.overrides.overview">Overview</a></span></dt><dt><span class="sect2"><a href="ch16s02.html#ivy.editors.overrides.accessibility">Accessibility</a></span></dt><dt><span class="sect2"><a href="ch16s02.html#ivy.editors.overrides.features">Features</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch16s03.html">New Override Wizard</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch16s03.html#ivy.wizards.newoverride.overview">Overview</a></span></dt><dt><span class="sect2"><a href="ch16s03.html#ivy.wizards.newoverride.accessibility">Accessibility</a></span></dt><dt><span class="sect2"><a href="ch16s03.html#ivy.wizards.newoverride.features">Features</a></span></dt></dl></dd></dl></div>
    
    <p><a name="ivy.overrides.overview"></a>This chapter deals with the <a class="link" href="ch16.html#ivy.overrides.concept" title="The Concept of Overrides">concept of overrides</a> and describes the <a class="link" href="ch16s02.html" title="Overrides Editor">Overrides Editor</a> and the <a class="link" href="ch16s03.html" title="New Override Wizard">New Override Wizard</a>. Overrides can be used to
        selectively redefine components of required projects so that replacement components are used
        at runtime instead. This is often a desired feature if an existing (possibly abstract)
        project or application is to be tailored for a specific customer or installation.</p>
    <div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.overrides.concept"></a>The Concept of Overrides</h2></div></div></div>
        
        <p>Applications are often implemented as a general solution for a problem and consist of
            multiple (dependent) projects. For many installations or customer projects it is
            desirable that certain parts of such a generic solution may be redefined in the context
            of a specific installation or customer.</p>
        <p> To permit this, Xpert.ivy knows various concepts of context-sensitive redefinitions: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
                    <p>Regular redefinition (e.g. for Content Objects and/or Configurations):
                        Simply define an already existing artifact with the same name again in a
                        different project.</p>
                </li><li class="listitem">
                    <p>Redefinition with environments (e.g. for Databases, Web Services, Global
                        Variables): Redefine values and properties of global artifacts depending on
                        the execution context.</p>
                </li><li class="listitem">
                    <p>Redefinition with overrides (e.g. for Rich Dialogs and/or Sub Processes):
                        Define a replacement component for an already existing component.</p>
                </li></ul></div><p> This chapter only deals with the third category of artifact
            redefinitions (overrides). </p>
        <p> By defining overrides on project level, the lookup of a certain component can be
            redirected to a replacement component. When a component is referenced in a process model
            of that project then the lookup for this component will yield a different component
            (i.e. the replacement) at runtime instead of the originally referenced component. </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
                <p> This happens completely independent of the original designers intention and
                    will take place every time a component is looked up. </p>
            </div><p>
            </p>
        <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.overrides.concept.casescope"></a>Case Scope</h3></div></div></div>
            
            <p> How is a component looked up? For the lookup of components at runtime, the
                so-called <span class="bold"><strong>case scope</strong></span> is crucial. The case scope is
                determined by the project, in which the current case was started, e.g. where the
                start of the running business process was invoked. All component look-ups as well as
                configuration and content management references are processed within the case scope,
                i.e. the look up of such artifacts always starts at the project that defines the
                case scope. </p>
            <div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N2CF43"></a>Example: The Acme Web shop</h4></div></div></div>
                
                <p>As an example, imagine a web shop application. It contains the following
                    (generic) business process:</p>
                <div class="mediaobject"><img src="images/Overrides/webshopProcess.png"></div>
                <p>The main process itself (Order) and each of the depicted sub processes
                    (DoOrder, ProcessOrder, Shipment) are defined in own projects. All of those
                    projects together form a (generic) web shop application, depicted below. The web
                    shop project contains the business process and it's start; the Frontend project
                    contains the DoOrder sub process; the backend project contains the ProcessOrder
                    sub process; the Shipment project contains the Shipping sub process.</p>
                <div class="mediaobject"><img src="images/Overrides/caseScope1.png"></div>
                <p>In this scenario, regardless of the task that is currently being executed
                    (customer, back office, shipping), the case scope will always be the web shop
                    project, because the business process is started from there.</p>
                <p>We now define an additional project, Acme web shop. The new project is
                    dependent on web shop and the intention is to bundle all Acme-specific overrides
                    and adoptions in this project. The already existing projects plus this new
                    project form together a more specific and customized Acme web shop application,
                    with the following project dependency tree:</p>
                <div class="mediaobject"><img src="images/Overrides/caseScope2.png"></div>
                <p>If the main business process is copied from the <span class="italic">web shop</span> project to the <span class="italic">Acme
                    web shop</span> project, and if it is ensured that the process request is
                    issued through the <span class="italic">Acme web shop</span> project
                    instead of the <span class="italic">web shop</span> project, then all
                    tasks of an order case will consequently have <span class="italic">Acme
                        web shop</span> as their case scope.</p>
                <p>Knowing this, we can now specifically override and redefine Content Objects,
                    Configuration entries, Rich Dialogs or Sub Processes from the original generic
                        <span class="italic">web shop</span> application by redefining them
                    inside the <span class="italic">Acme web shop</span> project. Afterwards,
                    whenever a business process with case scope <span class="italic">Acme
                    web shop</span> is started, then the overridden artifacts and components will
                    be used instead of the original ones, due to the case-scope based lookup
                    mechanism.</p>
            </div>
            <div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N2CF96"></a>General Definition</h4></div></div></div>
                
                <p>The following figure illustrates the adaption of an application with overrides
                    in a general way:</p>
                <div class="figure"><a name="N2CF9E"></a><p class="title"><b>Figure&nbsp;16.1.&nbsp;Adapting a generic application with overrides</b></p><div class="figure-contents">
                    
                    <div class="mediaobject"><img src="images/Overrides/adaptedApplication.png" alt="Adapting a generic application with overrides"></div>
                </div></div><br class="figure-break">
                <p>It can be seen that multiple adoptions (Client A, Client B) may be created for
                    a generic main project. Also, each adaption may override different components.</p>
                <p>Because Request 1 and Request 2 have different cases scopes, Request 1 (issued
                    through the <span class="italic">Client A</span> project) will use the
                    overridden Rich Dialog x.B' instead of the original x.B; Request 2, however,
                    will use the original x.B Rich Dialog, because there is no redefinition within
                    the case scope of the <span class="italic">Client B</span> project.
                    Likewise the invocation of the Sub Process y/Q will result in the execution of
                    the override y/Q' in Request 2, and the execution of the original y/Q in Request
                    1.</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
                    <p>If it should happen that the business process m/P2 is executed through the
                        main project directly, then no overrides will be applied at all. Since such
                        a "direct" invocation normally results in an unwanted case scope, it should
                        be prevented. The easiest way to do so is the usage of a <a class="link" href="ch16.html#ivy.designpatterns.processfacade" title="Process Facade">process facade</a> as
                        described below. </p>
                </div>
            </div>
        </div>
        <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.designpatterns.processfacade"></a>Process Facade</h3></div></div></div>
            
            <p>If the override mechanics are to work as intended, it must be ensured that
                processes are always and solely started from the adapted customer projects to ensure
                the proper case scope. This requires that all business processes (or rather their
                request start elements) must be copied to the adapter project.</p>
            <p>To simplify this task and to reduce the work to the copying of a single file, it
                is recommended to employ the <span class="italic">process facade</span>
                design pattern.</p>
            <p>Inside the main project of the generic application create a single process (e.g.
                Main) that holds the start elements of all the elementary business processes of the
                application. Factor the logic of those processes out into sub processes and call
                them from the facade process stubs, as illustrated below. With this approach, only
                one process (the facade) has to be copied to the top-level customer project.</p>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
                <p>When factoring out sub processes, please keep in mind that you should not use
                    task switches in sub processes of required projects. As a general
                    recommendation, any factored out sub process should roughly correspond to the
                    contents of a task (or parts of such), but should not span multiple
                tasks.</p>
            </div>
            <div class="figure"><a name="N2CFE0"></a><p class="title"><b>Figure&nbsp;16.2.&nbsp;Implementing a process facade with process stubs</b></p><div class="figure-contents">
                
                <div class="mediaobject"><img src="images/Overrides/processFacade.png" alt="Implementing a process facade with process stubs"></div>
            </div></div><br class="figure-break">
            <p>The portal website, the workflow UI or whichever other means that are used to
                start the application's business processes should only show the processes from the
                copied facade process. As all the out factored Sub Processes will also be available
                from the adapter project, no further changes have to be made.</p>
        </div>
    </div>
    
    
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch15s06.html">Prev</a>&nbsp;</td><td align="center" width="20%">&nbsp;</td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch16s02.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Persistence API&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;Overrides Editor</td></tr></table></div></body></html>