<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;7.&nbsp;IvyScript</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="index.html" title="Xpert.ivy 5.1"><link rel="prev" href="ch06s03.html" title="Data Class Editor"><link rel="next" href="ch07s02.html" title="IvyScript Editor"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&nbsp;7.&nbsp;IvyScript</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch06s03.html">Prev</a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch07s02.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="ivy.ivyscript"></a>Chapter&nbsp;7.&nbsp;IvyScript</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="ch07.html#ivy.ivyscript.language">IvyScript Language</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07.html#ivy.ivyscript.language.elements">Language Elements</a></span></dt><dt><span class="sect2"><a href="ch07.html#ivy.ivyscript.language.nullhandling">Null handling / Automatic object creation</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s02.html">IvyScript Editor</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s02.html#ivy.editors.ivyscript.overview">Overview</a></span></dt><dt><span class="sect2"><a href="ch07s02.html#N259DD">Features</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s03.html">Browsers</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s03.html#ivy.ivyscript.attributebrowser">Attribute and Method Browser</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#ivy.ivyscript.functionbrowser">Function Browser</a></span></dt><dt><span class="sect2"><a href="ch07s03.html#ivy.ivyscript.datatypebrowser">Data Type Browser</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s04.html">Public API</a></span></dt><dt><span class="sect1"><a href="ch07s05.html">IvyScript Reference</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s05.html#ivy.ivyscript.reference.operators">Operators</a></span></dt><dt><span class="sect2"><a href="ch07s05.html#ivy.ivyscript.reference.datatypes">Ivy Script Data Types</a></span></dt><dt><span class="sect2"><a href="ch07s05.html#ivy.ivyscript.reference.environmentvariables">The Environment Variable <code class="code">ivy</code>

                </a></span></dt></dl></dd><dt><span class="sect1"><a href="ch07s06.html">IvyScript-Java Integration</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch07s06.html#ivy.ivyscript.reference.javamethods">Call Java methods and fields</a></span></dt><dt><span class="sect2"><a href="ch07s06.html#ivy.ivyscript.reference.nullchecks">Working with different Date, Time and DateTime implementations</a></span></dt><dt><span class="sect2"><a href="ch07s06.html#ivy.ivyscript.reference.autocast">Auto casting rules</a></span></dt></dl></dd></dl></div>
	
	<p><a name="ivy.ivyscript.overview"></a>This chapter deals with the IvyScript language that is
		used to write business rules, for manipulating process data, to define data mappings and to
		set properties and parameters on Rich Dialog components. </p>
	<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.ivyscript.language"></a>IvyScript Language</h2></div></div></div>
		
		<p>The Ivy scripting language IvyScript provides elements to write simple computational
			expressions but also more complex elements to program conditional-, loop- and exception
			handling blocks.</p>
		<p>The <a class="link" href="ch07s05.html#ivy.ivyscript.reference.datatypes" title="Ivy Script Data Types">IvyScript data types</a> are
			defined for easy use. Especially, IvyScript bewares the programmer from null pointer
			exceptions because ivy data objects are automatically initialized to a default value.
			Read the section <a class="link" href="ch07.html#ivy.ivyscript.language.nullhandling" title="Null handling / Automatic object creation">Null
			Handling</a> for more details.</p>
		<p>IvyScript can also directly manipulate <a class="link" href="ch07s06.html" title="IvyScript-Java Integration">Java objects</a> in a easy way. Thus Java objects can be used without mapping
			and auto-casting simplifies the usage.</p>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.ivyscript.language.elements"></a>Language Elements</h3></div></div></div>
			
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="ivy.ivyscript.reference.condition"></a>Conditions</h4></div></div></div>
				
				<div class="variablelist"><dl class="variablelist"><dt><span class="term">Conditional expressions</span></dt><dd>
							<p>Function style</p>
							<pre class="screen">IF (cond, ifExpr, elseExpr)</pre>
							<p>Java style</p>
							<pre class="screen">cond ? ifExpr : elseExpr</pre>
						</dd><dt><span class="term">Conditional statements</span></dt><dd>
							<pre class="screen">if (cond) { ... } else { ... }</pre>
						</dd></dl></div>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="ivy.ivyscript.reference.loop"></a>Loops</h4></div></div></div>
				
				<div class="variablelist"><dl class="variablelist"><dt><span class="term">for </span></dt><dd>
							<pre class="screen">
for (init; cond; increment) 
{ 
// do something here
 ... 
}
                            </pre>
							<pre class="screen">
for (element: list)
 // do something here
... 
}                       
                            </pre>
						</dd><dt><span class="term">while</span></dt><dd>
							<pre class="screen">
while (cond)
{
 // do something here
... 
}
                            </pre>
						</dd></dl></div>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="ivy.ivyscript.reference.trycatchfinally"></a>Exception Handling</h4></div></div></div>
				
				<p>IvyScript supports the try/catch/finally construct to handle exceptions that
					happen while executing external Java code. </p>
				<pre class="screen">
try 
{
// some code here
... 
} 
catch (Exception ex) 
{
// compensate code
... 
} 
finally 
{ 
// some code that is executed regardless of whether exceptions occurred 
... 
}
                </pre>
			</div>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.ivyscript.language.nullhandling"></a>Null handling / Automatic object creation</h3></div></div></div>
			
			<p>IvyScript supports auto-initialization of the ivy basic types, i.e. you don't have
				to create/initialize fields or variables explicitly with <code class="code">new</code> after
				declaration. <code class="code">Strings</code> are initialised to an empty <code class="code">String</code>,
					<code class="code">Numbers</code> to zero, <code class="code">Lists</code> to an empty <code class="code">List</code>.</p>
			<p>Ivy composite types (ivy Data Classes) are automatically created. Due to that
				automatic object creation, a null check expression like <code class="code">if(in.customer ==
					null)</code> is always false.</p>
			<p>You can to use the <code class="code">.#</code> operator to suppress the automatic
				object creation.
				</p><pre class="screen">
if( in.#customer == null)
{
  // object is null
}

if (in.#customer is initialized)
{
  // object is not null or has been set to a non-default value
}
					
				</pre><p>
                </p>
			<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
				<p>Any fields or variables of Java classes are also created automatically if
					they're referenced for the first time and if the type has a default constructor.
					Interface types and abstract class types are not auto-created because no
					instances can be created of such types in Java.</p>
			</div>
			<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
				<p>Inside IvyScript it is generally recommended to use <code class="code">is
					initialized</code> rather than comparing against <code class="code">null</code> with the
						<code class="code">==</code> operator. Because Java types may be <code class="code">null</code> and
					IvyScript base types never, this operator will always ensure the correct
					checking depending on the type of the tested object.</p>
			</div>
			<p>Xpert.ivy also supports auto-initialization of AXIS types: </p>
			<p>
                    <code class="code">org.apache.axis.types.Time</code> to <code class="code">'00:00:00'</code>
                </p>
			<p>
                    <code class="code">org.apache.axis2.databinding.types.Time</code> to <code class="code">'00:00:00'</code>
                </p>
			<p>
                    <code class="code">org.apache.axis.types.Duration</code> to <code class="code">'PT0S'</code>
                </p>
			<p>
                    <code class="code">org.apache.axis2.databinding.types.Duration</code> to <code class="code">'PT0S'</code>

                </p>
			<p>A <code class="code">java.util.Date</code> is auto-initialized to a default value of
					<code class="code">'0001-01-01 00:00:00'</code>. </p>
			<p>However, you do not have to compare the values of those types against hard coded
				default values in your code, simply use <span class="bold"><strong>is
				initialized</strong></span> to find out if a value has been changed by the user or still
				bears the default value. </p>
			<pre class="screen">if (webserviceData.caseDuration is initialized)
{
  // do something
   ... 
}
            </pre>
		</div>
	</div>
	
	
	
	
	
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch06s03.html">Prev</a>&nbsp;</td><td align="center" width="20%">&nbsp;</td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch07s02.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Data Class Editor&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;IvyScript Editor</td></tr></table></div></body></html>