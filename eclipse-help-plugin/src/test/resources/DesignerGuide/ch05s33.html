<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>User Dialog UI Synchronization</title><link href="css/book.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets V1.78.0" name="generator"><link rel="home" href="index.html" title="Xpert.ivy 5.1"><link rel="up" href="ch05.html" title="Chapter&nbsp;5.&nbsp;Process Elements Reference"><link rel="prev" href="ch05s32.html" title="User Dialog Fire Event Step"><link rel="next" href="ch05s34.html" title="User Dialog Process End"><script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">User Dialog UI Synchronization </th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch05s32.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;5.&nbsp;Process Elements Reference</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch05s34.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ivy.processmodels.elements.rduisync"></a>User Dialog UI Synchronization </h2></div></div></div>
	
	<p>
                <span class="inlinemediaobject"><img src="images/ProcessElements/rdUiSyncElement.png"></span> The <span class="emphasis"><em>User Dialog UI Synchronization</em></span> element is located in the
			<span class="emphasis"><em>User Dialog</em></span> drawer of the process editor palette. It is only available with Rich Dialogs.</p>
	<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.processmodels.elements.rduisync.element"></a>Element Details</h3></div></div></div>
		
		<p>This element can be used to update the user interface on the client during a long
			running process on the server.</p>
		<p>
                    <span class="bold"><strong>Problem:</strong></span> If a long running UI process is started on
			the server (e.g. by clicking on a button) then the user interface on the client will not
			be updated until the process on the server has finished, because the request will not
			return to the client until then. It doesn't matter whether the process performs changes
			on the UI (e.g. by setting a text on a label or by updating the value of a progress bar)
			during it's execution, those changes will not be transmitted to the client until the
			request returns.</p>
		<p>
                    <span class="bold"><strong>Solution:</strong></span> If you insert the <span class="italic">UI Synchronization</span> element at some points inside your long running
			process then the changes that were set on the UI are transmitted to the client. The
			currently running request will temporarily return, update the client's user interface,
			and then immediately come back and resume the long running process.</p>
		<div class="figure"><a name="N25536"></a><p class="title"><b>Figure&nbsp;5.35.&nbsp;Example usage of the UI Synchronization element</b></p><div class="figure-contents">
			
			<div class="mediaobject"><img src="images/ProcessElements/ExampleUiSync.png" alt="Example usage of the UI Synchronization element"></div>
		</div></div><br class="figure-break">
		<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
			<p>Use the <a class="link" href="ch09s03.html#ivy.richdialogs.processbased.databinding" title="Data Binding">data
				binding</a> for UI update. Both an <span class="emphasis"><em>upbinding</em></span> (i.e.
					<span class="emphasis"><em>Data-to-UI</em></span>) and a <span class="emphasis"><em>downbinding</em></span> (i.e.
					<span class="emphasis"><em>UI-to-Data</em></span>) will be executed automatically every time when
				a Rich Dialog <span class="italic">UI Synchronization</span> element is
				executed.</p>
		</div>
		<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3>
			<p>
                        <span class="bold"><strong>Do not use the UI Synchronization element inside a
					Rich Dialog start method.</strong></span>

                    </p>
			<p>This will not work for technical reasons, because the initialization of the
				Rich Dialog will not have been completed at this point of time. If you want to
				execute a long running process immediately after a Rich Dialog is started then you
				should move this logic to an event process. </p>
			<p>This process should then be triggered by invoking a hidden button (i.e. a button
				on the panel with the property visible = <code class="code">false</code>) with
					<code class="code">ivy.rd.clickDeferred(hiddenButton)</code>. The button will automatically
				be clicked on the client as soon as the current request has ended, thus immediately
				sending another request to the server. The following figure illustrates this:</p>
			<p>Have a look at the <span class="italic">UI Refresh</span> demo
				(particularly the <span class="italic">Progress Dialog</span> part) in the
					<span class="italic">IvyDemos</span> project for an example on how to do
				this.</p>
			<div class="figure"><a name="N25583"></a><p class="title"><b>Figure&nbsp;5.36.&nbsp;Example usage of <code class="code">ivy.rd.clickDeferred(hiddenButton)</code>

                        </b></p><div class="figure-contents">
				
				<div class="mediaobject"><img src="images/ProcessElements/ivy_rd_clickDeferred.png" alt="Example usage of ivy.rd.clickDeferred(hiddenButton)"></div>
			</div></div><br class="figure-break">
			<p>
                        <span class="italic">Explanation:</span> [1] Start method of Rich Dialog initializes
				the Rich Dialog. At the end of the init method a call to
					<code class="code">ivy.rd.clickDeferred(..)</code> is used to schedule the clicking of a
				hidden button at a later point of time. [2] Rich Dialog is uploaded to the client
				and displayed. [3] Immediately after the Rich Dialog becomes visible, the scheduled
				click on the hidden button is executed and triggers another server round trip. [4]
				The <span class="italic">post_init</span> event handler (which is associated
				with the hidden button) is executed and performs the potentially long running task,
				where the <span class="italic">UI Synchronization</span> element may safely
				be used.</p>
		</div>
	</div>
	<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ivy.processmodels.elements.rduisync.inscription"></a>Inscription</h3></div></div></div>
		
		<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="N255AF"></a>Name Tab</h4></div></div></div>
			
			<p>This tab is included in the mask of all process elements and contains the name and
				a description of the element. See <a class="link" href="ch05.html#ivy.processmodels.elements.tabs.name" title="Name Tab">Name Tab</a> for a more
				detailed description.</p>
		</div>
	</div>
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch05s32.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="ch05.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch05s34.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">User Dialog Fire Event Step&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;User Dialog Process End</td></tr></table></div></body></html>